!function(a){"use strict";function b(b,c){this.element=b,this.options=a.extend({},d,c),this.init()}var c="prettyGist",d={showHeader:!0,extendedHeader:!0,showFooter:!0};b.prototype={init:function(){{var c=a(this.element).attr("id").substring(5),d=this.options,e=this.element;this.placeholder(e,c),this.model(c,function(f){a("#placeholder-for-"+c).replaceWith(b.prototype.layout(f,e,d)),d.showFooter===!0&&b.prototype.bind(f.data.id),"undefined"!=typeof hljs&&(hljs.initHighlightingOnLoad(),a(".pg-pretty-gist").addClass("pg-hljs"))})}},placeholder:function(b,c){var d='<div class="pretty-gist-placeholder" id="placeholder-for-'+c+'"></div>';a(d).insertAfter(b)},model:function(b,c){a.getJSON("https://api.github.com/gists/"+b+"?callback=?",function(a){c(a)})},layout:function(b,c,d){var e="";return e+='<div class="pg-pretty-gist" id="pg-pretty-gist-'+b.data.id+'">',d.showHeader===!0&&(e+='<div class="pg-header pg-clear">',d.extendedHeader===!0?(e+='<div class="pg-logo"><a href="https://github.com/">Github</a></div>',null!=b.data.user&&(e+='<div class="pg-user"><a href="https://github.com/'+b.data.user.login+'" class="pg-github-user">',e+="undefined"!=typeof b.data.user.avatar_url&&b.data.user.avatar_url.length>0?'<img src="'+b.data.user.avatar_url+'" alt="Avatar" width="34px" height="34px" />':'<img src="https://a248.e.akamai.net/assets.github.com/images/gravatars/gravatar-140.png" alt="Avatar" width="34px" height="34px" />',e+="</a></div>",e+='<div class="pg-github-user-data">',e+='<h2><a href="https://gist.github.com/gists/'+b.data.id+'">'+b.data.description+"</a></h2>",e+='<h3><a href="https://github.com/'+b.data.user.login+'">'+b.data.user.login+"</a></h3>",e+="</div>")):e+='<h2 class="pg-single"><a href="https://gist.github.com/gists/'+b.data.id+'">'+b.data.description+"</a></h2>",e+="</div>"),e+='<div class="pg-code-container"><ol>',a.each(a(c).find(".line"),function(b){e+='<li class="pg-pretty-line" id="pg-pretty-line-'+b+'"><pre class="pg-pretty-line"><code>'+a(this).html()+"</pre></code></li>"}),e+="</ol></div>",d.showFooter===!0&&(e+='<div class="pg-footer pg-clear">',e+='<a href="https://gist.github.com/gists/'+b.data.id+'/download" class="pg-button pg-left">Download Gist</a>',e+='<a href="#" class="pg-button pg-middle pg-show-embed" data-embed="https://gist.github.com/'+b.data.id+'.js">Embed Gist</a>',e+='<a href="#" class="pg-button pg-right pg-show-clone-url" data-clone-url="git://gist.github.com/'+b.data.id+'.git">Clone Gist</a>',e+='<a href="#" class="pg-button pg-single pg-show-plugin-info">Info</a>',e+="</div>"),e+="</div>"},bind:function(c){a("#pg-pretty-gist-"+c+" .pg-show-embed").click(function(d){d.preventDefault();var e="&lt;script src=&quot;"+a(this).attr("data-embed")+"&quot;>&lt;/script>",f="Embed code:";b.prototype.modal(c,f,e)}),a("#pg-pretty-gist-"+c+" .pg-show-clone-url").click(function(d){d.preventDefault();var e=a(this).attr("data-clone-url"),f="Clone url:";b.prototype.modal(c,f,e)}),a("#pg-pretty-gist-"+c+" .pg-show-plugin-info").click(function(a){a.preventDefault();var d='Pretty Gist by <a href="http://www.joepettersson.com/pretty-gist/">Joe Pettersson</a><br />A plugin to make prettier and more functional embedded Github Gists';b.prototype.modal(c,d)})},modal:function(b,c,d){a("#pg-pretty-gist-"+b).find(".pg-gist-modal").remove();var e="",f=a("#pg-pretty-gist-"+b).outerWidth()-2,g=a("#pg-pretty-gist-"+b+" .pg-code-container").outerHeight()/2-23;e+='<div class="pg-gist-modal" style="width: '+f+"px; padding: "+g+'px 0px;">',e+="<p>"+c+"</p>","undefined"!=typeof d&&(e+='<input type="text" value="'+d+'" class="pg-gist-input" name="embed-url" />'),e+="</div>",a(e).insertBefore("#pg-pretty-gist-"+b+" .pg-code-container"),a("#pg-pretty-gist-"+b+" .pg-gist-modal").click(function(){a("#pretty-gist-"+b).find(".pg-gist-modal").remove()})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);